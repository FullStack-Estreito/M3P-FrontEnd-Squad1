<app-header></app-header>
<app-sidebar></app-sidebar>

<br><br><br>
<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <h1 class="text-center mb-4">Cadastro de Usuários</h1>
      <form [formGroup]="userForm" (ngSubmit)="onSubmit()">

        <!-- Nome -->
        <div class="form-group">
          <label for="nome">Nome:</label>
          <input type="text" id="nome" class="form-control" formControlName="nome">
          <span *ngIf="validateErrorMessage('nome')" class="text-danger">Por favor insira o nome do aluno com no mínimo
            8 caracteres!</span>
        </div>

        <!-- Gênero -->
        <div class="form-group">
          <label for="genero">Gênero:</label>
          <select id="genero" class="form-control" formControlName="genero">
            <option selected></option>
            <option *ngFor="let gender of genders" [value]="gender">{{gender}}</option>
          </select>
          <span *ngIf="validateErrorMessage('genero')" class="text-danger">Por favor selecione um gênero!</span>
        </div>

        <!-- CPF -->
        <div class="form-group">
          <label for="cpf">CPF:</label>
          <input type="text" id="cpf" class="form-control" formControlName="cpf" mask="000.000.000-00">
          <span *ngIf="validateErrorMessage('cpf')" class="text-danger">Por favor digite um CPF!</span>

        </div>

        <!-- Telefone -->
        <div class="form-group">
          <label for="telefone">Telefone:</label>
          <input type="text" id="telefone" class="form-control" formControlName="telefone" maxlength="15" minlength="15">
          <span *ngIf="validateErrorMessage('telefone')" class="text-danger">Por favor digite um telefone no padrão (00) 00000-0000
          </span>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" class="form-control" formControlName="email">
          <div *ngIf="userForm.controls['email'].invalid && userForm.controls['email'].touched" class="text-danger">
            Email inválido.
          </div>
        </div>

        <!-- Senha -->
        <div class="form-group">
          <label for="senha">Senha:</label>
          <input type="password" id="senha" class="form-control" formControlName="senha" maxlength="6">
          <span *ngIf="validateErrorMessage('senha')" class="text-danger">Por favor digite uma senha de 6
            dígitos!</span>
        </div>

        <!-- Tipo de Usuário -->
        <div class="form-group">
          <label for="tipoUsuario">Tipo de Usuário:</label>
          <select id="tipoUsuario" class="form-control" formControlName="tipoUsuario">
            <option selected></option>
            <option *ngFor="let userType of userTypes" [value]="userType">{{userType}}</option>
          </select>
          <span *ngIf="validateErrorMessage('tipoUsuario')" class="text-danger">Por favor digite uma senha de 6
            dígitos!</span>
        </div>

        <!-- Endereço -->
        <div formGroupName="endereco">

          <div class="form-group">
            <label for="cep">CEP:</label>
            <input type="text" id="cep" class="form-control" formControlName="cep" maxlength="9">
          </div>

          <div class="form-group">
            <label for="cidade">Cidade:</label>
            <input type="text" id="cidade" class="form-control" formControlName="cidade">
          </div>

          <!-- Estado -->
          <div class="form-group">
            <label for="estado">Estado:</label>
            <select id="estado" class="form-control" formControlName="estado">
              <option *ngFor="let state of states" [value]="state">{{state}}</option>
            </select>
          </div>

          <div class="form-group">
            <label for="logradouro">Logradouro:</label>
            <input type="text" id="logradouro" class="form-control" formControlName="logradouro">
          </div>

          <div class="form-group">
            <label for="numero">Número:</label>
            <input type="text" id="numero" class="form-control" formControlName="numero">
          </div>

          <div class="form-group">
            <label for="complemento">Complemento:</label>
            <input type="text" id="complemento" class="form-control" formControlName="complemento">
          </div>

          <div class="form-group">
            <label for="bairro">Bairro:</label>
            <input type="text" id="bairro" class="form-control" formControlName="bairro">
          </div>

          <div class="form-group">
            <label for="referencia">Referência:</label>
            <input type="text" id="referencia" class="form-control" formControlName="referencia">
          </div>

        </div>
        <br>

        <!-- Status Ativo -->
        <div class="form-group">
          <label>Status Ativo: </label>
          <input type="checkbox" formControlName="statusAtivo" class="custom-checkbox">
        </div>
        <br>

        <!-- Matricula -->
        <div class="form-group">
          <label for="matricula">Matrícula:</label>
          <input type="number" id="matricula" class="form-control" formControlName="matricula">
        </div>

        <!-- Código do Professor -->
        <div class="form-group">
          <label for="codigoProfessor">Código do Professor:</label>
          <input type="number" id="codigoProfessor" class="form-control" formControlName="codigoProfessor" min="0" max="300">
        </div>

        <!-- White Label ID -->
        <div>
          <div class="form-group">
            <label for="whiteLabelId">White Label ID:</label>
            <input type="number" id="whiteLabelId" class="form-control" formControlName="whiteLabelId" min="0" max="50"
            minlength="1">
            <span *ngIf="validateErrorMessage('whiteLabelId')" class="text-danger">Por favor digite uma senha de 6
              dígitos!</span>
          </div>
        </div>
        <div class="d-flex justify-content-end">
          <button type="submit" class="btn btn-info mx-2 my-2" [disabled]="!userForm.valid"><i class="fas fa-save"></i>
            Salvar</button>
        </div>
        <div class="spinner-border text-primary mt-3" role="status" *ngIf="isLoading">
          <span class="visually-hidden">Carregando...</span>
        </div>
      </form>
    </div>
  </div>
</div>